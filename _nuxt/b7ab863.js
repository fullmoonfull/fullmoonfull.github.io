(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{294:function(t,e,o){var c=o(0),d=o(295),r=o(148);c({target:"Array",proto:!0},{fill:d}),r("fill")},295:function(t,e,o){"use strict";var c=o(29),d=o(81),r=o(36);t.exports=function(t){for(var e=c(this),o=r(e),n=arguments.length,l=d(n>1?arguments[1]:void 0,o),v=n>2?arguments[2]:void 0,h=void 0===v?o:d(v,o);h>l;)e[l++]=t;return e}},308:function(t,e,o){var content=o(322);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(114).default)("b6ae2914",content,!0,{sourceMap:!1})},321:function(t,e,o){"use strict";o(308)},322:function(t,e,o){var c=o(113)(!1);c.push([t.i,"#app[data-v-03c79af5]{display:flex;position:relative}#app[data-v-03c79af5]>:first-child{margin-right:20px}.board[data-v-03c79af5]{padding:30px;background:#1c1c1c;position:relative}.block[data-v-03c79af5]{width:30px;height:30px;background:#252525;border:.1px solid rgba(0,0,0,.2)}.block-i[data-v-03c79af5]{background:#3498db}.block-o[data-v-03c79af5]{background:#f1c40f}.block-t[data-v-03c79af5]{background:#9b59b6}.block-j[data-v-03c79af5]{background:#1e3799}.block-l[data-v-03c79af5]{background:#e67e22}.block-s[data-v-03c79af5]{background:#2ecc71}.block-z[data-v-03c79af5]{background:#e74c3c}.block-disp[data-v-03c79af5]{padding:15px;background:#1c1c1c}.block-disp>h2[data-v-03c79af5]{color:#bdc3c7;font-size:12px}.block-disp .block[data-v-03c79af5]{width:20px;height:20px}.gameover[data-v-03c79af5]{display:block;position:absolute;top:calc(50% - 50px);left:0;width:100%;text-align:center;font-size:24px;font-weight:700;padding:20px 0;color:#f39c12;background:#222;opacity:.9}.num-disp[data-v-03c79af5]{padding:10px;background:#1c1c1c}.num-disp>h2[data-v-03c79af5]{color:#bdc3c7;font-size:12px}.num-disp>p[data-v-03c79af5]{background:#252525;padding:7px;color:#fff}.start[data-v-03c79af5]{display:block;width:100%;padding:20px;border:none;outline:none;background:#16a085;color:#fff;font-size:20px;border-radius:10px;cursor:pointer}.start[data-v-03c79af5]:disabled{opacity:.4;cursor:default}body[data-v-03c79af5]{background:#333}.description[data-v-03c79af5]{color:#fff;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.9);z-index:100;padding:50px}.description>h2[data-v-03c79af5]{font-size:32px;margin-bottom:30px}.description>h3[data-v-03c79af5]{font-size:24px;margin-bottom:20px}.description>ul[data-v-03c79af5]{margin-left:30px;margin-bottom:40px}.description>ul>li[data-v-03c79af5]{line-height:30px}a[data-v-03c79af5]{cursor:pointer;color:#16a085;font-size:16px;text-decoration:underline}.description-enter-active[data-v-03c79af5],.description-leave-active[data-v-03c79af5]{transition:all .6s}.description-enter[data-v-03c79af5],.description-leave-to[data-v-03c79af5]{opacity:0}",""]),t.exports=c},333:function(t,e,o){"use strict";o.r(e);o(290);var c=o(116),d=o(146),r=o(147),n=o(292),l=o(293),v=o(289),h=o(30),f=(o(65),o(22),o(66),o(43),o(294),o(291));function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,c=Object(v.a)(t);if(e){var d=Object(v.a)(this).constructor;o=Reflect.construct(c,arguments,d)}else o=c.apply(this,arguments);return Object(l.a)(this,o)}}var y=function(t,e,o,desc){var c,d=arguments.length,r=d<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,o):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(h.a)(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,desc);else for(var i=t.length-1;i>=0;i--)(c=t[i])&&(r=(d<3?c(r):d>3?c(e,o,r):c(e,o))||r);return d>3&&r&&Object.defineProperty(e,o,r),r},_=function(t){Object(n.a)(o,t);var e=k(o);function o(){var t;return Object(d.a)(this,o),(t=e.apply(this,arguments)).blocks={0:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],1:[[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],2:[[0,0,0,0,0],[0,0,2,2,0],[0,0,2,2,0],[0,0,0,0,0],[0,0,0,0,0]],3:[[0,0,0,0,0],[0,0,3,0,0],[0,3,3,3,0],[0,0,0,0,0],[0,0,0,0,0]],4:[[0,0,0,0,0],[0,0,4,0,0],[0,0,4,0,0],[0,4,4,0,0],[0,0,0,0,0]],5:[[0,0,0,0,0],[0,0,5,0,0],[0,0,5,0,0],[0,0,5,5,0],[0,0,0,0,0]],6:[[0,0,0,0,0],[0,0,6,6,0],[0,6,6,0,0],[0,0,0,0,0],[0,0,0,0,0]],7:[[0,0,0,0,0],[0,7,7,0,0],[0,0,7,7,0],[0,0,0,0,0],[0,0,0,0,0]]},t.data={board:{data:[],x:7,y:18},block:{type:0,data:[],x:0,y:0},next:0,stock:{type:0,stocked:!1},started:!1,gameover:!1,intervalId:void 0,score:0,level:1,description:!1},t.watch={score:function(t){this.level>=10||t>=100*Math.pow(this.level+1,3)&&(this.level+=1,this.resetTimer())}},t}return Object(r.a)(o,[{key:"blockClass",value:function(t){switch(t){case 1:return"block-i";case 2:return"block-o";case 3:return"block-t";case 4:return"block-j";case 5:return"block-l";case 6:return"block-s";case 7:return"block-z";default:return""}}},{key:"display",value:function(){var t=JSON.parse(JSON.stringify(this.data.board.data));if(0===this.data.block.data.length)return t;for(var e=0;e<this.data.block.data.length;e++)for(var o=0;o<this.data.block.data[e].length;o++){var c=this.data.block.y+e,d=this.data.block.x+o;c<0||d<0||c>this.data.board.y-1||d>this.data.board.x-1||0!==this.data.block.data[e][o]&&(t[e+this.data.block.y][o+this.data.block.x]=this.data.block.data[e][o])}return t}},{key:"nextBlock",value:function(){return this.blocks[this.data.next]}},{key:"stockBlock",value:function(){return this.blocks[this.data.stock.type]}},{key:"created",value:function(){this.clear()}},{key:"mounted",value:function(){window.addEventListener("keydown",this.handleKeydown)}},{key:"beforeDestroy",value:function(){window.removeEventListener("keydown",this.handleKeydown)}},{key:"start",value:function(){this.clear(),this.setNext(),this.setBlock(),this.data.started=!0,this.startTimer()}},{key:"end",value:function(){this.data.started=!1,this.data.gameover=!0,this.stopTimer()}},{key:"startTimer",value:function(){this.data.intervalId=setInterval(this.down,1e3-100*(this.data.level-1))}},{key:"stopTimer",value:function(){clearInterval(this.data.intervalId)}},{key:"resetTimer",value:function(){this.stopTimer(),this.startTimer()}},{key:"clear",value:function(){var t=this;this.data.board.data=Object(c.a)(Array(this.data.board.y)).map((function(){return Array(t.data.board.x).fill(0)})),this.data.gameover=!1,this.data.score=0,this.data.level=1,this.data.stock={type:0,stocked:!1}}},{key:"setBlock",value:function(){this.setNext(),this.initBlock()}},{key:"initBlock",value:function(){for(this.data.block.x=2,this.data.block.y=1===this.data.block.type?0:-1,this.data.block.data=this.data.block.data;this.isOverlap();)this.data.block.y-=1}},{key:"isOverlap",value:function(){for(var t=0;t<this.data.block.data.length;t++){var e=this.data.block.y+t;if(!(e<0))for(var o=0;o<this.data.block.data[t].length;o++){var c=this.data.block.x+o;if(this.data.block.data[t][o]>0&&this.data.board.data[e][c]>0)return!0}}return!1}},{key:"setNext",value:function(){this.data.block.data=this.blocks[this.data.next],this.data.block.type=this.data.next,this.data.next=Math.floor(7*Math.random())+1}},{key:"setStock",value:function(){if(!this.data.stock.stocked){if(0===this.data.stock.type)this.data.stock.type=this.data.block.type,this.setBlock();else{var t=this.data.stock.type;this.data.stock.type=this.data.block.type,this.data.block.type=t,this.data.block.data=this.blocks[this.data.block.type],this.initBlock(),this.data.stock.stocked=!0}this.resetTimer()}}},{key:"handleKeydown",value:function(t){t.preventDefault(),39===t.keyCode?this.right():37===t.keyCode?this.left():38===t.keyCode?this.downBottom():40===t.keyCode?this.down():16===t.keyCode?this.setStock():32===t.keyCode&&this.rotate()}},{key:"right",value:function(){this.canMove(this.data.block.data,this.data.block.x+1,this.data.block.y)&&(this.data.block.x+=1)}},{key:"left",value:function(){this.canMove(this.data.block.data,this.data.block.x-1,this.data.block.y)&&(this.data.block.x-=1)}},{key:"rotate",value:function(){for(var t=JSON.parse(JSON.stringify(this.data.block.data)),e=0;e<t.length;e++)for(var o=0;o<t[e].length;o++)t[t.length-o-1][e]=this.data.block.data[e][o];this.canMove(t,this.data.block.x,this.data.block.y)&&(this.data.block.data=t)}},{key:"down",value:function(){if(this.canMove(this.data.block.data,this.data.block.x,this.data.block.y+1))return this.data.block.y+=1,this.resetTimer(),!0;this.data.board.data=this.display();var g=1===this.data.block.type?0:-1;if(!(this.data.block.y<g))return this.data.stock.stocked=!1,this.setBlock(),this.deleteLine(),!1;this.end()}},{key:"downBottom",value:function(){for(;this.down(););}},{key:"canMove",value:function(t,e,o){for(var c=0;c<t.length;c++)for(var d=0;d<t[c].length;d++){if(e+d<0&&t[c][d]>0)return!1;if(e+d>this.data.board.x-1&&t[c][d]>0)return!1;if(o+c>this.data.board.y-1&&t[c][d]>0)return!1;if(o+c<0&&t[c][d]>0)return!1;if(!(e+d<0||e+d>this.data.board.x-1||o+c>this.data.board.y-1||o+c<0)&&(this.data.board.data[o+c][e+d]>0&&t[c][d]>0))return!1}return!0}},{key:"deleteLine",value:function(){for(var t=[],e=0;e<this.data.board.y;e++){for(var o=1,c=0;c<this.data.board.x;c++)o*=this.data.board.data[e][c];o>0&&t.push(e)}for(var i=0;i<t.length;i++){for(var d=t[i],r=0;r<this.data.board.x;r++)this.data.board.data[d][r]=0;for(var n=d;n>1;n--)this.data.board.data[n]=this.data.board.data[n-1]}this.setScore(t.length)}},{key:"setScore",value:function(t){this.data.score+=10*Math.pow(t,3)}}]),o}(f.Vue),x=_=y([Object(f.Component)({})],_),m=(o(321),o(53)),component=Object(m.a)(x,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("div",{staticClass:"board"},[o("table",[o("tbody",t._l(t.display(),(function(b,i){return o("tr",{key:i},t._l(b,(function(e,c){return o("td",{key:c,staticClass:"block",class:t.blockClass(e)})})),0)})),0)]),t._v(" "),t.data.gameover?o("div",{staticClass:"gameover"},[o("span",[t._v("GAME OVER")])]):t._e()]),t._v(" "),o("div",[o("div",{staticClass:"block-disp"},[o("h2",[t._v("Next")]),t._v(" "),o("table",[o("tbody",t._l(t.nextBlock(),(function(b,i){return o("tr",{key:i},t._l(b,(function(e,c){return o("td",{key:c,staticClass:"block",class:t.blockClass(e)})})),0)})),0)])]),t._v(" "),o("br"),t._v(" "),o("div",{staticClass:"block-disp"},[o("h2",[t._v("Stock")]),t._v(" "),o("table",[o("tbody",t._l(t.stockBlock(),(function(b,i){return o("tr",{key:i},t._l(b,(function(e,c){return o("td",{key:c,staticClass:"block",class:t.blockClass(e)})})),0)})),0)])]),t._v(" "),o("br"),t._v(" "),o("div",{staticClass:"num-disp"},[o("h2",[t._v("Score")]),t._v(" "),o("p",[t._v(t._s(t.data.score))])]),t._v(" "),o("br"),t._v(" "),o("div",{staticClass:"num-disp"},[o("h2",[t._v("Level")]),t._v(" "),o("p",[t._v(t._s(t.data.level))])]),t._v(" "),o("br"),t._v(" "),o("button",{staticClass:"start",attrs:{disabled:t.data.started},on:{click:t.start}},[t._v("Start")]),t._v(" "),o("br"),t._v(" "),o("a",{staticClass:"description-link",on:{click:function(e){t.data.description=!0}}},[t._v("あそびかた")])]),t._v(" "),o("transition",{attrs:{name:"description"}},[t.data.description?o("div",{staticClass:"description"},[o("h2",[t._v("あそびかた")]),t._v(" "),o("h3",[t._v("キー操作")]),t._v(" "),o("ul",[o("li",[t._v("← : 左移動")]),t._v(" "),o("li",[t._v("→ : 右移動")]),t._v(" "),o("li",[t._v("↓ : ソフトドロップ")]),t._v(" "),o("li",[t._v("↑ : ハードドロップ")]),t._v(" "),o("li",[t._v("Space : 回転")]),t._v(" "),o("li",[t._v("Shift : ストック")])]),t._v(" "),o("h3",[t._v("Score")]),t._v(" "),o("ul",[o("li",[t._v("1ライン : 10")]),t._v(" "),o("li",[t._v("2ライン : 80")]),t._v(" "),o("li",[t._v("3ライン : 270")]),t._v(" "),o("li",[t._v("4ライン : 640")])]),t._v(" "),o("div",{on:{click:function(e){t.data.description=!1}}},[t._v("閉じる")])]):t._e()])],1)}),[],!1,null,"03c79af5",null);e.default=component.exports}}]);